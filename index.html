<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gallery Showcase</title>
<style>
  :root {
    --bg:#0e0f12;
    --panel:#151618;
    --accent:#7c5cff;
    --gap:18px;
    --counter-bg:rgba(124,92,255,0.8);
  }
  * {box-sizing:border-box;margin:0;padding:0;}
  body {
    background:var(--bg);
    color:#fff;
    font-family:Inter,system-ui,Arial,sans-serif;
  }

  header {
    background:linear-gradient(90deg,#1b1b1b,#262626);
    text-align:center;
    padding:80px 20px;
    font-size:3em;
    font-weight:800;
    letter-spacing:1px;
  }

  .search-toggle {
    display:block;
    margin:24px auto;
    background:var(--accent);
    color:#fff;
    border:none;
    padding:12px 22px;
    border-radius:10px;
    font-weight:600;
    cursor:pointer;
    transition:transform .2s ease, box-shadow .2s ease;
  }
  .search-toggle:hover {
    transform:scale(1.05);
    box-shadow:0 0 20px rgba(124,92,255,0.3);
  }

  .search-container {
    width:100%;
    display:flex;
    justify-content:center;
    overflow:hidden;
    height:0;
    transition:height .3s ease;
  }
  .search-container.active {height:70px;}
  .search-container input {
    width:60%;
    max-width:500px;
    margin-top:20px;
    padding:14px 18px;
    border:none;
    border-radius:12px;
    font-size:1.1em;
    outline:none;
    background:#1d1d1f;
    color:#fff;
  }
  .search-container input::placeholder {color:#888;}

  .card-grid {
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
    gap:var(--gap);
    padding:40px;
  }

  .card {
    position:relative;
    border-radius:14px;
    overflow:hidden;
    aspect-ratio:1/1;
    cursor:pointer;
    background:var(--panel);
    transition:transform .2s ease, box-shadow .2s ease;
  }
  .card:hover {
    transform:translateY(-5px) scale(1.02);
    box-shadow:0 8px 20px rgba(0,0,0,0.45);
  }
  .card img {
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }

  /* Counter circle on each card */
  .counter {
    position:absolute;
    top:8px;
    right:8px;
    width:28px;
    height:28px;
    border-radius:50%;
    background:var(--counter-bg);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:0.9em;
    font-weight:600;
    color:#fff;
    pointer-events:none; /* clicks go to image */
    user-select:none;
  }

  @media(max-width:600px){
    header{font-size:2em;}
    .search-container input{width:80%;}
  }
</style>
</head>
<body>

<header>Gallery Showcase</header>
<button class="search-toggle" id="toggleBtn">Toggle Search</button>

<div class="search-container" id="searchContainer">
  <input type="text" id="searchInput" placeholder="Search cards...">
</div>

<div class="card-grid" id="cardGrid">
  <div class="card" data-name="Ocean">
    <img src="https://picsum.photos/400?random=1" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="Forest">
    <img src="https://picsum.photos/400?random=2" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="Mountains">
    <img src="https://picsum.photos/400?random=3" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="City">
    <img src="https://picsum.photos/400?random=4" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="Desert">
    <img src="https://picsum.photos/400?random=5" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="Galaxy">
    <img src="https://picsum.photos/400?random=6" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="Snow">
    <img src="https://picsum.photos/400?random=7" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="Lake">
    <img src="https://picsum.photos/400?random=8" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="Sunset">
    <img src="https://picsum.photos/400?random=9" alt="">
    <div class="counter">0</div>
  </div>
  <div class="card" data-name="Jungle">
    <img src="https://picsum.photos/400?random=10" alt="">
    <div class="counter">0</div>
  </div>
</div>

<script>
const toggleBtn = document.getElementById('toggleBtn');
const searchContainer = document.getElementById('searchContainer');
const input = document.getElementById('searchInput');
const cards = document.querySelectorAll('.card');

// Toggle search bar
toggleBtn.addEventListener('click', () => {
  searchContainer.classList.toggle('active');
  if(searchContainer.classList.contains('active')) input.focus();
  else { input.value=''; filterCards(''); }
});

// Filter cards by hidden names
input.addEventListener('input', ()=>filterCards(input.value.toLowerCase()));
function filterCards(query){
  cards.forEach(card=>{
    const name = card.getAttribute('data-name').toLowerCase();
    card.style.display = name.includes(query)?'block':'none';
  });
}

// Load counters from localStorage
cards.forEach(card=>{
  const name = card.getAttribute('data-name');
  const counter = card.querySelector('.counter');
  let count = parseInt(localStorage.getItem(name)) || 0;
  counter.textContent = count;

  // Increment counter on image click
  card.querySelector('img').addEventListener('click', ()=>{
    count++;
    counter.textContent = count;
    localStorage.setItem(name,count);
  });
});
</script>

</body>
</html>
